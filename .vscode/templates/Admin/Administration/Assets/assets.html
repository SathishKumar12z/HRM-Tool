{% include "Layout/top.html" %}
{% include "Layout/side.html" %}

<!-- Page Wrapper -->
<div class="page-wrapper">
	<!-- Page Content -->
	<div class="content container-fluid">
	
		<!-- Page Header -->
		<div class="page-header">
			<div class="row align-items-center">
				<div class="col">
					<h3 class="page-title">templates/assets</h3>
					<ul class="breadcrumb">
						<li class="breadcrumb-item"><a href="/HrmTool/Admin/dashboard">Dashboard</a></li>
						<li class="breadcrumb-item active">templates/assets</li>
					</ul>
				</div>
				<div class="col-auto float-end ms-auto">
					<a href="#" class="btn add-btn" data-bs-toggle="modal" data-bs-target="#add_asset"><i class="fa-solid fa-plus"></i> Add Asset</a>
				</div>
			</div>
		</div>
		<!-- /Page Header -->
		
		<!-- Search Filter -->
		<div class="row filter-row">
			<div class="col-sm-6 col-md-3">  
				<div class="input-block mb-3 form-focus">
					<input type="text" class="form-control floating" id="empname">
					<label class="focus-label">Employee Name</label>
				</div>
			</div>
			<div class="col-sm-6 col-md-3"> 
				<div class="input-block mb-3 form-focus select-focus">
					<select class="select floating" id="status"> 
						<option value=""> -- Select -- </option>
						<option value="0"> Pending </option>
						<option value="1"> Approved </option>
						<option value="2"> Returned </option>
					</select>
					<label class="focus-label">Status</label>
				</div>
			</div>
			<div class="col-sm-12 col-md-4">  
			   <div class="row">  
				   <div class="col-md-6 col-sm-6">  
						<div class="input-block mb-3 form-focus">
							<div class="cal-icon">
								<input class="form-control floating datetimepicker" type="text" id="from">
							</div>
							<label class="focus-label">From</label>
						</div>
					</div>
				   <div class="col-md-6 col-sm-6">  
						<div class="input-block mb-3 form-focus">
							<div class="cal-icon">
								<input class="form-control floating datetimepicker" type="text" id="to">
							</div>
							<label class="focus-label">To</label>
						</div>
					</div>
				</div>
			</div>
			<div class="col-sm-6 col-md-2">
				<div class="d-grid">
					<a href="#" class="btn btn-success" onclick="performSearch()"> Search </a>  
				</div>  
			</div>     
		</div>
		<!-- /Search Filter -->


		<script>
			function performSearch() {

			  var employeeName = document.getElementById('emppname').value;
			  var status = document.getElementById('status').value;
			  var fromDate = document.getElementById('from').value;
			  var toDate = document.getElementById('to').value;
		
			
			  console.log("Employee Name:", employeeName);
			  console.log("Status:", status);
			  console.log("From Date:", fromDate);
			  console.log("To Date:", toDate);
		

			}
		  </script>
		
		<div class="row">
			<div class="col-md-12">
				<div class="table-responsive">
					<table class="table table-striped custom-table mb-0 datatable">
						<thead>
							<tr>
								<th>Asset User</th>
								<th>Asset Name</th>
								<th>Asset Id</th>
								<th>Purchase Date</th>
								<th>Warrenty</th>
								<th>Warrenty End</th>
								<th>Amount</th>
								<th class="text-center">Status</th>
								<th class="text-end">Action</th>
							</tr>
						</thead>
						<tbody>
							{% for i in asset_data %}	
							<tr>
								<!-- <td>{{i.id}}</td> -->
								<td>{{i.Asset_User_id}}</td>
								<td>
									{{i.Asset_Name}}
								</td>
								<td>{{i.Asset_Id}}</td>
								
								<td>{{i.Purchase_From}}</td>
								<td>{{i.Warranty}}</td>
								<td>{{i.Purchase_Date}}</td>
						
								<td>${{i.Value}}</td>
								<td class="text-center">
									<div class="dropdown action-label">
										<a class="btn btn-white btn-sm btn-rounded dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">
											<i class="fa-regular fa-circle-dot text-danger"></i> {{i.Current_status}}
										</a>
										<div class="dropdown-menu dropdown-menu-right">
											<a class="dropdown-item" href="#"><i class="fa-regular fa-circle-dot text-danger"></i> Pending</a>
											<a class="dropdown-item" href="#"><i class="fa-regular fa-circle-dot text-success"></i> Approved</a>
											<a class="dropdown-item" href="#"><i class="fa-regular fa-circle-dot text-info"></i> Returned</a>
										</div>
									</div>
								</td>
								<td class="text-end">
									<div class="dropdown dropdown-action">
										<a href="#" class="action-icon dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false"><i class="material-icons">more_vert</i></a>
										<div class="dropdown-menu dropdown-menu-right">
											<a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#edit_asset" onclick="editing_id('{{i.id}}')"><i class="fa-solid fa-pencil m-r-5"></i> Edit</a>
											<a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#delete_asset" onclick="taking_dlt_dedction('{{i.id}}')"><i class="fa-regular fa-trash-can m-r-5"></i> Delete</a>
										</div>
									</div>
								</td>
							</tr>
							{% endfor %}
						</tbody>
						<script>

							 function editing_id(data){
								$.get('/HrmTool/Administration/taking_edit_id/'+data,function(res){
									console.log(res)
									$('#edit_idz').val(res.id)
									$('#edit_asset_name').val(res.Asset_Name)
									$('#edit_assetid').val(res.Asset_Id)
									$('#edit_pdate').val(res.Purchase_Date)
									$('#edit_pfrom').val(res.Purchase_From)
									$('#edit_man').val(res.Manufacturer)
									$('#edit_sup').val(res.Supplier)
									$('#edit_con').val(res.Condition)
									$('#edit_model').val(res.Model)
									$('#edit_snum').val(res.Serial_Number)
									$('#edit_war').val(res.Warranty)
									$('#edit_val').val(res.Value)
									$('#edit_assuser').val(res.Asset_User_id)
									$('#edit_stat').val(res.Current_status)
									
								})
							}
							function taking_dlt_dedction(data){
								$('#delete_pop_deduction').val(data)
							}

							function conform_delete_deduction(data){
								$.get('/HrmTool/Administration/taking_dlt_id_deduction/'+data,function(res){
									location.reload();
								})
							}
						</script>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- /Page Content -->

	<!-- Add Asset Modal -->
	<div id="add_asset" class="modal custom-modal fade" role="dialog">
		<div class="modal-dialog modal-md" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Add Asset</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="/HrmTool/Administration/add_asset" method="post">
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset Name</label>
									<input class="form-control" type="text" id="Asset_Name" name="Asset_Name">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset Id</label>
									<input class="form-control" type="text" id="Asset_Id" name="Asset_Id" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Purchase Date</label>
									<input class="form-control datetimepicker" type="text" id="Purchase_Date" name="Purchase_Date">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Purchase From</label>
									<input class="form-control datetimepicker"  type="text" id="Purchase_From" name="Purchase_From">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Manufacturer</label>
									<input class="form-control" type="text" id="Manufacturer" name="Manufacturer">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Model</label>
									<input class="form-control" type="text" id="Model" name="Model">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Serial Number</label>
									<input class="form-control" type="text" id="Serial_Number" name="Serial_Number" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Supplier</label>
									<input class="form-control" type="text" id="Supplier" name="Supplier">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Condition</label>
									<input class="form-control" type="text" id="Condition" name="Condition">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Warranty</label>
									<input class="form-control" type="text" placeholder="In Months" id="Warranty" name="Warranty">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Value</label>
									<input placeholder="$RUPEES" class="form-control" type="text" id="Value" name="Value" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset User</label>
									<select class="form-select" id="Asset_User_id" name="Asset_User_id">
										<option>John Doe</option>
										<option>Richard Miles</option>
									</select>
								</div>
							</div>
							<!-- <div class="col-md-12">
								<div class="input-block mb-3">
									<label class="col-form-label">Description</label>
									<textarea class="form-control"></textarea>
								</div>
							</div> -->
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Status</label>
									<select class="form-select" id="Current_status" name="Current_status">
										<option>Pending</option>
										<option>Approved</option>
										<option>Deployed</option>
										<option>Damaged</option>
									</select>
								</div>
							</div>
						</div>
						<div class="submit-section">
							<button class="btn btn-primary submit-btn">Submit</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- /Add Asset Modal -->
	
	<!-- Edit Asset Modal -->
	<div id="edit_asset" class="modal custom-modal fade" role="dialog">
		<div class="modal-dialog modal-md" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">Edit Asset</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<form action="/HrmTool/Administration/edit_asset" method="post">
						<div class="row">
							<input id="edit_idz" name="edit_id" type="hidden">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset Name</label>
									<input class="form-control" type="text" id="edit_asset_name" name="edit_asset_name">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset Id</label>
									<input class="form-control" type="text" id="edit_assetid" name="edit_assetid" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Purchase Date</label>
									<input class="form-control datetimepicker" type="text" id="edit_pdate" name="edit_pdate">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Purchase From</label>
									<input class="form-control" type="text" id="edit_pfrom" name="edit_pfrom">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Manufacturer</label>
									<input class="form-control" type="text" id="edit_man" name="edit_man">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Model</label>
									<input class="form-control" type="text" id="edit_model" name="edit_model">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Serial Number</label>
									<input class="form-control" type="text" id="edit_snum" name="edit_snum" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Supplier</label>
									<input class="form-control" type="text" id="edit_sup" name="edit_sup">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Condition</label>
									<input class="form-control" type="text" id="edit_con" name="edit_con">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Warranty</label>
									<input class="form-control" type="text" placeholder="In Months" id="edit_war" name="edit_war">
								</div>
							</div>
						</div>
						<div class="row">
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Value</label>
									<input placeholder="$In Rupees" class="form-control" type="text" id="edit_val" name="edit_val" pattern="[0-9]+" title="Please enter only numeric values">
								</div>
							</div>
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Asset User</label>
									<select class="form-select" id="edit_assuser" name="edit_assuser">
										<option>John Doe</option>
										<option>Richard Miles</option>
									</select>
								</div>
							</div>
							<!-- <div class="col-md-12">
								<div class="input-block mb-3">
									<label class="col-form-label">Description</label>
									<textarea class="form-control"></textarea>
								</div>
							</div> -->
							<div class="col-md-6">
								<div class="input-block mb-3">
									<label class="col-form-label">Status</label>
									<select class="form-select" id="edit_stat" name="edit_stat">
										<option>Pending</option>
										<option>Approved</option>
										<option>Deployed</option>
										<option>Damaged</option>
									</select>
								</div>
							</div>
						</div>
						<div class="submit-section">
							<button class="btn btn-primary submit-btn">Save</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- Edit Asset Modal -->
	
	<!-- Delete Asset Modal -->
	<div class="modal custom-modal fade" id="delete_asset" role="dialog">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<div class="modal-body">
					<div class="form-header">
						<h3>Delete Asset</h3>
						<p>Are you sure want to delete?</p>
					</div>
					<div class="modal-btn delete-action">
						<div class="row">
							<div class="col-6">
								<input name="delete_pop_deduction" id="delete_pop_deduction" type="hidden">
								<a href="javascript:void(0);" class="btn btn-primary continue-btn" onclick="conform_delete_deduction($('#delete_pop_deduction').val())">Delete</a>
							</div>
							<div class="col-6">
								<a href="javascript:void(0);" data-bs-dismiss="modal" class="btn btn-primary cancel-btn">Cancel</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- /Delete Asset Modal -->
	
</div>
<!-- /Page Wrapper -->

{% include "Layout/side_style.html" %}
{% include "Layout/bottom.html" %}